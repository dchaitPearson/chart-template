<!-- DO NOT EDIT THIS FILE DIRECTLY!!! THIS FILE IS GENERATED SO CHANGES MADE HERE WILL BE OVERWRITTEN. SEE https://github.com/pearsontechnology/chart-template#updating-the-readmemd FOR INFO HOW TO UPDATE THIS FILE -->  
## chart-template

For chart specific documentation look in `docs/`

### Creating a brand new chart-* repo

To use the files in this repo as the base for your new helm chart repositories, please follow these steps:

- Create a brand new 'chart-chartname' repo in github, making sure the checkbox for `Initialize this repository with a README` is checked. This will put an empty README file in your master branch as its first commit. This will help to create the full file diff when making your first PR of the feature branch against the master branch.
- While on the github page for your new repo, navigate to <strong>settings -> Collaborators &amp; teams</strong>. Under the Teams section configure it as follows: <br /> ![collaborator settings](https://github.com/pearsontechnology/image-template/blob/master/images/collaborator_settings.png)
- Clone your newly created repo onto your local machine `git clone git@github.com:pearsontechnology/chart-chartname.git`
- `cd chart-chartname && git clone git@github.com:pearsontechnology/chart-template.git`
- `mv chart-template/* ./ `
- `mv chart-template/.gitignore ./ && mv chart-template/.travis.yml ./ `
- At this point the only thing remaining in the chart-template folder is likely to be the `.git/` folder. If so, you can now delete the chart-template folder. If there are more files remaining that you need please copy them over before the next step.
- `rm -rf chart-template`
- `rm travis/repos.txt && rm -rf travis/deploy.sh`
- Create your feature branch `git checkout -b bite-xxyy`

Your project is now ready for you to work on.

### Notes

- change `chartname` folder to the name of your chart and work on creating templates inside template folder.

- change Chart.yaml and values.yaml with the chart you are working on.

- helm test yaml should be inside `chartname\templates\tests` (Testing is done using https://github.com/helm/helm/blob/master/docs/chart_tests.md).Docker image and test cases need for testing should be inside `tests` folder (need to create a docker image with test scripts included. Sample can be found in tests directory).

- If you need to do any customization to minikube use minikube_custom.sh that is not managed by template repo

- Do not edit the `Makefile`. It is templated and should work out of the box.

- Update pearsontechnology/chart-template/travis/repos.txt with your repo name 'chart-chartname', and this will ensure you continue to get tooling updates.

- This README.md file is templated. Do NOT make changes to this file directly as your changes will be overwritten!!! 

- Chart specific readme can be updated in `docs/` directory.

### Building and Testing

To build this repo's addon into a local minikube cluster please run (from the root directory of this repo)

./travis/test_local_mac.sh

### Travis Integration

Before making your first PR you will need to make sure you have generated keys for Travis. You can do this by running the following command: `cd travis && ./travis_rw_key.sh`. Please commit the file changes made by this command.
You will need to have the travis cli on your local machine. Installation instructions can be found at https://github.com/travis-ci/travis.rb#installation.
For more information about Travis access, please contact steven.acreman@pearson.com.

Travis workflow work as below

* Install dependencies
* Build test image (This will happen only if changes are done to tests directory)
* Start Minikube
* Build helm chart and install
* Test helm chart

On the master when new PR is merged it will create a new release and it will push that version to the s3 helm repository

s3 helm repository: s3://bitesize-helm-registry/charts in us-west-2 region
